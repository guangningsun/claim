(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0672":function(e,n,t){"use strict";t.r(n);var o=t("64dd"),a=t("78f2");for(var i in a)"default"!==i&&function(e){t.d(n,e,(function(){return a[e]}))}(i);var c,s=t("f0c5"),r=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);n["default"]=r.exports},"3a8e":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{openid:"",headImg:"../../static/submit1.png",user_nickname:""}},onLoad:function(){},onShow:function(){var n=this;e.login({provider:"weixin",success:function(e){console.log("+++code："+e.code),n.requestWithMethod(getApp().globalData.api_login+e.code,"POST","",n.successCb,n.failCb,n.completeCb)}})},methods:{successCb:function(n){console.log(n),0===n.data.error&&(this.openid=n.data.openid,e.setStorage({key:"key_wx_openid",data:n.data.openid}))},failCb:function(e){console.log("api_login failed",e)},completeCb:function(e){},onClickScan:function(){var n=this;e.scanCode({onlyFromCamera:!0,success:function(t){if(console.log("条码类型："+t.scanType),console.log("条码内容："+t.result),n.containsStr(t.result,"http")){var o=t.result.split("/");e.setStorageSync("key_cat",o[o.length-1]),e.navigateTo({url:"../item_choose/cart"})}}})},onClickHistory:function(){e.navigateTo({url:"../history/history"})},onGotUserInfo:function(n){console.log(n),console.log(n.detail.userInfo.avatarUrl),this.headImg=n.detail.userInfo.avatarUrl,this.user_nickname=n.detail.userInfo.nickName,e.setStorage({key:"key_user_head",data:n.detail.userInfo.avatarUrl}),e.setStorage({key:"key_user_nickname",data:n.detail.userInfo.nickName})},successPhoneCb:function(n){console.log("api_phone success"),this.containsStr(n.errMsg,"ok")&&e.setStorage({key:"key_phone_num",data:n.data.purePhoneNumber})},failPhoneCb:function(e){console.log("api_phone failed",e)},completePhoneCb:function(e){},getPhoneNumber:function(n){console.log(n),console.log("getPhoneNumber=====");if("getPhoneNumber:fail user deny"==n.detail.errMsg)e.showModal({title:"提示",showCancel:!1,content:"未授权将无法登录",success:function(e){}});else{var t={encryptedData:n.detail.encryptedData,iv:n.detail.iv,openid:this.openid};this.requestWithMethod(getApp().globalData.api_getWXInfo,"POST",t,this.successPhoneCb,this.failPhoneCb,this.completePhoneCb)}}}};n.default=t}).call(this,t("543d")["default"])},"64dd":function(e,n,t){"use strict";var o,a=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}))},"78f2":function(e,n,t){"use strict";t.r(n);var o=t("3a8e"),a=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=a.a},ae2b:function(e,n,t){"use strict";(function(e){t("0152"),t("921b");o(t("66fd"));var n=o(t("0672"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])}},[["ae2b","common/runtime","common/vendor"]]]);