{"version":3,"sources":["webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/main.js","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue?8e05","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue?ecc4","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue?f338","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue?8635","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue"],"names":["createPage","Page","data","modalName","approve_list","reject_reason","onLoad","initData","methods","params","auth","uni","getStorageSync","openid","requestWithMethod","getApp","globalData","api_get_approval_list","successCb","failCb","completeCb","rsp","console","log","error","msg","approval_list_info","result","map","item","itemList","claim_list","i","key","Object","keys","undefined","items","substring","length","itemsList","err","onDetail","navigateTo","url","encodeURIComponent","JSON","stringify","successStatusCb","failStatusCb","completeStatusCb","requestChangeStatus","id","isRejected","reason","is_rejectted","is_finished","record_id","api_change_approval_status","showModal","e","hideModal","onApprove","onRejcet","onConfirmReject"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,kG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;;;AAGtD;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAm2B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;mICAv3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,eAAS,EAAE,IADL;;AAGNC,kBAAY,EAAE,EAHR;;AAKNC,mBAAa,EAAC,EALR,EAAP;;AAOA,GATa;;AAWdC,QAXc,oBAWL;AACR,SAAKC,QAAL;AACA,GAba;;AAedC,SAAO,EAAE;AACRD,YADQ,sBACG;AACV,UAAIE,MAAM,GAAG;AACZC,YAAI,EAAEC,GAAG,CAACC,cAAJ,CAAmB,eAAnB,CADM;AAEZC,cAAM,EAAEF,GAAG,CAACC,cAAJ,CAAmB,eAAnB,CAFI,EAAb;;AAIA,WAAKE,iBAAL;AACCC,YAAM,GAAGC,UAAT,CAAoBC,qBADrB;AAEC,YAFD;AAGCR,YAHD;AAIC,WAAKS,SAJN;AAKC,WAAKC,MALN;AAMC,WAAKC,UANN;;AAQA,KAdO;AAeRF,aAfQ,qBAeEG,GAfF,EAeO;AACdC,aAAO,CAACC,GAAR,CAAY,YAAZ;AACA,UAAIF,GAAG,CAACnB,IAAJ,CAASsB,KAAT,KAAmB,CAAvB,EAA0B;AACzB,aAAKpB,YAAL,GAAoBiB,GAAG,CAACnB,IAAJ,CAASuB,GAAT,CAAaC,kBAAjC;AACA,YAAIC,MAAM,GAAG,KAAKvB,YAAL,CAAkBwB,GAAlB,CAAsB,UAAAC,IAAI,EAAI;AAC1C,cAAIC,QAAQ,GAAGD,IAAI,CAACE,UAApB;AACAD,kBAAQ,CAACF,GAAT,CAAa,UAAAI,CAAC,EAAI;AACjB,gBAAIC,GAAG,GAAGC,MAAM,CAACC,IAAP,CAAYH,CAAZ,CAAV;AACA,gBAAIH,IAAI,CAAC,OAAD,CAAJ,KAAkBO,SAAtB,EAAiC;AAChCP,kBAAI,CAAC,OAAD,CAAJ,IAAiBI,GAAG,GAAGD,CAAC,CAACC,GAAD,CAAP,GAAe,IAAhC;AACA,aAFD,MAEO;AACNJ,kBAAI,CAAC,OAAD,CAAJ,GAAgBI,GAAG,GAAGD,CAAC,CAACC,GAAD,CAAP,GAAe,IAA/B;AACA;;AAED,gBAAIJ,IAAI,CAAC,WAAD,CAAJ,KAAsBO,SAA1B,EAAqC;AACpCP,kBAAI,CAAC,WAAD,CAAJ,IAAqBI,GAAG,GAAGD,CAAC,CAACC,GAAD,CAAP,GAAe,MAApC;AACA,aAFD,MAEO;AACNJ,kBAAI,CAAC,WAAD,CAAJ,GAAoBI,GAAG,GAAGD,CAAC,CAACC,GAAD,CAAP,GAAe,MAAnC;AACA;;AAED,mBAAOD,CAAP;AACA,WAfD;AAgBAV,iBAAO,CAACC,GAAR,CAAYM,IAAI,CAACQ,KAAjB;AACAR,cAAI,CAACQ,KAAL,GAAaR,IAAI,CAACQ,KAAL,CAAWC,SAAX,CAAqB,CAArB,EAAwBT,IAAI,CAACQ,KAAL,CAAWE,MAAX,GAAoB,CAA5C,CAAb;AACAV,cAAI,CAACW,SAAL,GAAiBX,IAAI,CAACW,SAAL,CAAeF,SAAf,CAAyB,CAAzB,EAA4BT,IAAI,CAACW,SAAL,CAAeD,MAAf,GAAwB,CAApD,CAAjB;AACA,iBAAOV,IAAP;AACA,SAtBY,CAAb;AAuBA,aAAKzB,YAAL,GAAoBuB,MAApB;AACAL,eAAO,CAACC,GAAR,CAAY,KAAKnB,YAAjB;AACA;AACD,KA7CO;AA8CRe,UA9CQ,kBA8CDsB,GA9CC,EA8CI;AACXnB,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCkB,GAAlC;AACA,KAhDO;AAiDRrB,cAjDQ,sBAiDGC,GAjDH,EAiDQ,CAAE,CAjDV;;AAmDRqB,YAnDQ,oBAmDCb,IAnDD,EAmDO;AACdlB,SAAG,CAACgC,UAAJ,CAAe;AACdC,WAAG,EAAE,gCAAgCC,kBAAkB,CAACC,IAAI,CAACC,SAAL,CAAelB,IAAf,CAAD,CADzC,EAAf;;AAGA,KAvDO;;AAyDRmB,mBAzDQ,2BAyDQ3B,GAzDR,EAyDa;AACpBC,aAAO,CAACC,GAAR,CAAY,YAAZ;AACA,WAAKhB,QAAL;AACA,UAAIc,GAAG,CAACnB,IAAJ,CAASsB,KAAT,KAAmB,CAAvB,EAA0B;;AAEzB;AACD,KA/DO;AAgERyB,gBAhEQ,wBAgEKR,GAhEL,EAgEU;AACjBnB,aAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCkB,GAAjC;AACA,KAlEO;AAmERS,oBAnEQ,4BAmES7B,GAnET,EAmEc,CAAE,CAnEhB;;AAqER8B,uBArEQ,+BAqEYC,EArEZ,EAqEgBC,UArEhB,EAqE4BC,MArE5B,EAqEmC;AAC1C,UAAI7C,MAAM,GAAG;AACZI,cAAM,EAAEF,GAAG,CAACC,cAAJ,CAAmB,eAAnB,CADI;AAEZ2C,oBAAY,EAAEF,UAFF;AAGZG,mBAAW,EAAE,KAHD;AAIZF,cAAM,EAAEA,MAJI;AAKZG,iBAAS,EAACL,EALE,EAAb;;AAOA,WAAKtC,iBAAL;AACCC,YAAM,GAAGC,UAAT,CAAoB0C,0BADrB;AAEC,YAFD;AAGCjD,YAHD;AAIC,WAAKuC,eAJN;AAKC,WAAKC,YALN;AAMC,WAAKC,gBANN;;AAQA,KArFO;;AAuFRS,aAvFQ,qBAuFEC,CAvFF,EAuFK;AACZ,WAAKzD,SAAL,GAAiByD,CAAjB;AACA,KAzFO;AA0FRC,aA1FQ,qBA0FED,CA1FF,EA0FK;AACZ,WAAKzD,SAAL,GAAiB,IAAjB;AACA,KA5FO;;AA8FR2D,aA9FQ,qBA8FEjC,IA9FF,EA8FQ;AACf,WAAKsB,mBAAL,CAAyBtB,IAAI,CAACuB,EAA9B,EAAkC,KAAlC,EAAwC,EAAxC;AACA,KAhGO;AAiGRW,YAjGQ,oBAiGClC,IAjGD,EAiGO;AACd,WAAKxB,aAAL,GAAqB,EAArB;AACA,WAAKsD,SAAL,CAAe,aAAf;AACA,KApGO;AAqGRK,mBArGQ,2BAqGQnC,IArGR,EAqGa;AACpB,WAAKsB,mBAAL,CAAyBtB,IAAI,CAACuB,EAA9B,EAAkC,IAAlC,EAAwC,KAAK/C,aAA7C;AACA,WAAKwD,SAAL;AACA,KAxGO,EAfK,E","file":"pages/approve/approve.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/approve/approve.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./approve.vue?vue&type=template&id=54d9425c&\"\nvar renderjs\nimport script from \"./approve.vue?vue&type=script&lang=js&\"\nexport * from \"./approve.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./approve.vue?vue&type=template&id=54d9425c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./approve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./approve.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tmodalName: null,\n\n\t\t\tapprove_list: [],\n\t\t\t\n\t\t\treject_reason:''\n\t\t};\n\t},\n\n\tonLoad() {\n\t\tthis.initData();\n\t},\n\n\tmethods: {\n\t\tinitData() {\n\t\t\tlet params = {\n\t\t\t\tauth: uni.getStorageSync('key_user_auth'),\n\t\t\t\topenid: uni.getStorageSync('key_wx_openid')\n\t\t\t};\n\t\t\tthis.requestWithMethod(\n\t\t\t\tgetApp().globalData.api_get_approval_list,\n\t\t\t\t'POST',\n\t\t\t\tparams,\n\t\t\t\tthis.successCb,\n\t\t\t\tthis.failCb,\n\t\t\t\tthis.completeCb\n\t\t\t);\n\t\t},\n\t\tsuccessCb(rsp) {\n\t\t\tconsole.log('success cb');\n\t\t\tif (rsp.data.error === 0) {\n\t\t\t\tthis.approve_list = rsp.data.msg.approval_list_info;\n\t\t\t\tlet result = this.approve_list.map(item => {\n\t\t\t\t\tlet itemList = item.claim_list;\n\t\t\t\t\titemList.map(i => {\n\t\t\t\t\t\tlet key = Object.keys(i);\n\t\t\t\t\t\tif (item['items'] !== undefined) {\n\t\t\t\t\t\t\titem['items'] += key + i[key] + ', ';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem['items'] = key + i[key] + ', ';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (item['itemsList'] !== undefined) {\n\t\t\t\t\t\t\titem['itemsList'] += key + i[key] + ' \\n ';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem['itemsList'] = key + i[key] + ' \\n ';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(item.items);\n\t\t\t\t\titem.items = item.items.substring(0, item.items.length - 2);\n\t\t\t\t\titem.itemsList = item.itemsList.substring(0, item.itemsList.length - 2);\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t\tthis.approve_list = result;\n\t\t\t\tconsole.log(this.approve_list);\n\t\t\t}\n\t\t},\n\t\tfailCb(err) {\n\t\t\tconsole.log('api_approve failed', err);\n\t\t},\n\t\tcompleteCb(rsp) {},\n\n\t\tonDetail(item) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'approve_detail?approveInfo=' + encodeURIComponent(JSON.stringify(item))\n\t\t\t});\n\t\t},\n\t\t\n\t\tsuccessStatusCb(rsp) {\n\t\t\tconsole.log('success cb');\n\t\t\tthis.initData();\n\t\t\tif (rsp.data.error === 0) {\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tfailStatusCb(err) {\n\t\t\tconsole.log('api_status failed', err);\n\t\t},\n\t\tcompleteStatusCb(rsp) {},\n\t\t\n\t\trequestChangeStatus(id, isRejected, reason){\n\t\t\tlet params = {\n\t\t\t\topenid: uni.getStorageSync('key_wx_openid'),\n\t\t\t\tis_rejectted: isRejected,\n\t\t\t\tis_finished: false,\n\t\t\t\treason: reason,\n\t\t\t\trecord_id:id\n\t\t\t};\n\t\t\tthis.requestWithMethod(\n\t\t\t\tgetApp().globalData.api_change_approval_status,\n\t\t\t\t'POST',\n\t\t\t\tparams,\n\t\t\t\tthis.successStatusCb,\n\t\t\t\tthis.failStatusCb,\n\t\t\t\tthis.completeStatusCb\n\t\t\t);\n\t\t},\n\t\t\n\t\tshowModal(e) {\n\t\t\tthis.modalName = e;\n\t\t},\n\t\thideModal(e) {\n\t\t\tthis.modalName = null;\n\t\t},\n\t\t\n\t\tonApprove(item) {\n\t\t\tthis.requestChangeStatus(item.id, false,'');\n\t\t},\n\t\tonRejcet(item) {\n\t\t\tthis.reject_reason = '';\n\t\t\tthis.showModal('RejectModal');\n\t\t},\n\t\tonConfirmReject(item){\n\t\t\tthis.requestChangeStatus(item.id, true, this.reject_reason);\n\t\t\tthis.hideModal();\n\t\t}\n\t}\n};\n"],"sourceRoot":""}