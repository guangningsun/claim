{"version":3,"sources":["webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/main.js","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue?8e05","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue?ecc4","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue?f338","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue?8635","webpack:////Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue"],"names":["createPage","Page","data","modalName","approve_list","reject_reason","showEmpty","onLoad","initData","onPullDownRefresh","console","log","methods","params","auth","uni","getStorageSync","openid","requestWithMethod","getApp","globalData","api_get_approval_list","successCb","failCb","completeCb","rsp","error","msg","approval_list_info","result","map","item","itemList","claim_list","i","key","Object","keys","undefined","items","substring","length","itemsList","err","onDetail","navigateTo","url","encodeURIComponent","JSON","stringify","successStatusCb","failStatusCb","completeStatusCb","requestChangeStatus","id","isRejected","reason","is_rejectted","is_finished","record_id","api_change_approval_status","showModal","e","hideModal","onApprove","onRejcet","onConfirmReject"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,kG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;;;AAGtD;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAm2B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;mICAv3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,eAAS,EAAE,IADL;;AAGNC,kBAAY,EAAE,EAHR;;AAKNC,mBAAa,EAAE,EALT;;AAONC,eAAS,EAAE,KAPL,EAAP;;AASA,GAXa;AAYdC,QAZc,oBAYL;AACR,SAAKC,QAAL;AACA,GAda;AAedC,mBAfc,+BAeM;AACnBC,WAAO,CAACC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","file":"pages/approve/approve.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/approve/approve.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./approve.vue?vue&type=template&id=54d9425c&\"\nvar renderjs\nimport script from \"./approve.vue?vue&type=script&lang=js&\"\nexport * from \"./approve.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/victor/HBuilderProjects/supplies_app/claim/client/supplies_app_client/pages/approve/approve.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./approve.vue?vue&type=template&id=54d9425c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./approve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./approve.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tmodalName: null,\n\n\t\t\tapprove_list: [],\n\n\t\t\treject_reason: '',\n\n\t\t\tshowEmpty: false\n\t\t};\n\t},\n\tonLoad() {\n\t\tthis.initData();\n\t},\n\tonPullDownRefresh() {\n\t\tconsole.log('onPullDownRefresh!!!!');\n\t\tthis.initData();\n\t},\n\tmethods: {\n\t\tinitData() {\n\t\t\tlet params = {\n\t\t\t\tauth: uni.getStorageSync('key_user_auth'),\n\t\t\t\topenid: uni.getStorageSync('key_wx_openid')\n\t\t\t};\n\t\t\tthis.requestWithMethod(\n\t\t\t\tgetApp().globalData.api_get_approval_list,\n\t\t\t\t'POST',\n\t\t\t\tparams,\n\t\t\t\tthis.successCb,\n\t\t\t\tthis.failCb,\n\t\t\t\tthis.completeCb\n\t\t\t);\n\t\t},\n\t\tsuccessCb(rsp) {\n\t\t\tconsole.log('success cb');\n\t\t\tif (rsp.data.error === 0) {\n\t\t\t\tthis.approve_list = rsp.data.msg.approval_list_info;\n\t\t\t\tlet result = this.approve_list.map(item => {\n\t\t\t\t\tlet itemList = item.claim_list;\n\t\t\t\t\titemList.map(i => {\n\t\t\t\t\t\tlet key = Object.keys(i);\n\t\t\t\t\t\tif (item['items'] !== undefined) {\n\t\t\t\t\t\t\titem['items'] += key + i[key] + ', ';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem['items'] = key + i[key] + ', ';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (item['itemsList'] !== undefined) {\n\t\t\t\t\t\t\titem['itemsList'] += key + i[key] + ' \\n ';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem['itemsList'] = key + i[key] + ' \\n ';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(item.items);\n\t\t\t\t\titem.items = item.items.substring(0, item.items.length - 2);\n\t\t\t\t\titem.itemsList = item.itemsList.substring(0, item.itemsList.length - 2);\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t\tthis.approve_list = result;\n\t\t\t\tif (this.approve_list.length == 0) {\n\t\t\t\t\tthis.showEmpty = true;\n\t\t\t\t}\n\t\t\t\tconsole.log(this.approve_list);\n\t\t\t}\n\t\t},\n\t\tfailCb(err) {\n\t\t\tconsole.log('api_approve failed', err);\n\t\t},\n\t\tcompleteCb(rsp) {},\n\n\t\tonDetail(item) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'approve_detail?approveInfo=' + encodeURIComponent(JSON.stringify(item))\n\t\t\t});\n\t\t},\n\n\t\tsuccessStatusCb(rsp) {\n\t\t\tconsole.log('success cb');\n\t\t\tthis.initData();\n\t\t\tif (rsp.data.error === 0) {\n\t\t\t}\n\t\t},\n\t\tfailStatusCb(err) {\n\t\t\tconsole.log('api_status failed', err);\n\t\t},\n\t\tcompleteStatusCb(rsp) {},\n\n\t\trequestChangeStatus(id, isRejected, reason) {\n\t\t\tlet params = {\n\t\t\t\topenid: uni.getStorageSync('key_wx_openid'),\n\t\t\t\tis_rejectted: isRejected,\n\t\t\t\tis_finished: false,\n\t\t\t\treason: reason,\n\t\t\t\trecord_id: id\n\t\t\t};\n\t\t\tthis.requestWithMethod(\n\t\t\t\tgetApp().globalData.api_change_approval_status,\n\t\t\t\t'POST',\n\t\t\t\tparams,\n\t\t\t\tthis.successStatusCb,\n\t\t\t\tthis.failStatusCb,\n\t\t\t\tthis.completeStatusCb\n\t\t\t);\n\t\t},\n\n\t\tshowModal(e) {\n\t\t\tthis.modalName = e;\n\t\t},\n\t\thideModal(e) {\n\t\t\tthis.modalName = null;\n\t\t},\n\n\t\tonApprove(item) {\n\t\t\tthis.requestChangeStatus(item.id, false, '');\n\t\t},\n\t\tonRejcet(item) {\n\t\t\tthis.reject_reason = '';\n\t\t\tthis.showModal('RejectModal');\n\t\t},\n\t\tonConfirmReject(item) {\n\t\t\tthis.requestChangeStatus(item.id, true, this.reject_reason);\n\t\t\tthis.hideModal();\n\t\t}\n\t}\n};\n"],"sourceRoot":""}